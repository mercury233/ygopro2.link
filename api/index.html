<!DOCTYPE html><html lang="zh-Hans"><head><!-- hexo injector head_begin start -->
<script src="/config.42548640364e1ba53a14.js"></script>
<!-- hexo injector head_begin end -->
<meta charset="utf-8">
<title>开发者文档(API) - YGOPro2 Laboratory</title>
<base href="/">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
<link rel="canonical" href="https://ygopro2.com/api/">
<link rel="icon" type="image/x-icon" href="/favicon.ico">

<meta name="description" content="2022-10-27 Mercury233注： 此文内容已过期，等待更新。  开源地址：&nbsp;https://github.com/lllyasviel/YGOProUnity_V2 第一步&nbsp;运行游戏。 第二步&nbsp;用记事本打开commamd.shell。 第二点五步&nbsp;把用户的头像以“用户名.png”的格式写入“texture\face\用户名.png”,写多少个都可以。 第三步&nbsp;输入以下五条指令中的任意">
<meta property="og:type" content="website">
<meta property="og:title" content="开发者文档(API)">
<meta property="og:url" content="https://ygopro2.com/api/index.html">
<meta property="og:site_name" content="YGOPro2 Laboratory">
<meta property="og:description" content="2022-10-27 Mercury233注： 此文内容已过期，等待更新。  开源地址：&nbsp;https://github.com/lllyasviel/YGOProUnity_V2 第一步&nbsp;运行游戏。 第二步&nbsp;用记事本打开commamd.shell。 第二点五步&nbsp;把用户的头像以“用户名.png”的格式写入“texture\face\用户名.png”,写多少个都可以。 第三步&nbsp;输入以下五条指令中的任意">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://ygopro2.com/images/avatar.jpg">
<meta property="article:published_time" content="2017-02-01T23:33:33.000Z">
<meta property="article:modified_time" content="2017-02-01T23:33:33.000Z">
<meta property="article:author" content="YGOPro2">
<meta property="article:tag" content="lofter备份">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ygopro2.com/images/avatar.jpg">


<!-- hexo injector head_end start --><style is="theme">html{--inside-accent-color:#2a2b33;--inside-foreground-color:#363636;--inside-border-color:#e0e0e0;--inside-background:#f3f6f7;--inside-sidebar-background:#2a2b33;--inside-card-background:#fff;--inside-font-base:"Hiragino Sans GB","Microsoft YaHei",微软雅黑,tahoma,arial,simsun,宋体;--inside-font-logo:-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;--inside-font-menu:-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;--inside-font-heading:-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;--inside-font-label:-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;--inside-font-code:monospace;--inside-font-print:-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;--inside-content-width:660px;--inside-highlight-00:#ffffff;--inside-highlight-01:#e0e0e0;--inside-highlight-02:#f3f6f7;--inside-highlight-03:#95a5b3;--inside-highlight-04:#363636;--inside-highlight-05:#262b2f;--inside-highlight-06:#000000;--inside-highlight-07:#000000;--inside-highlight-08:#5d6c7b;--inside-highlight-09:#40464a;--inside-highlight-0a:#2980b9;--inside-highlight-0b:#be516e;--inside-highlight-0c:#237dac;--inside-highlight-0d:#944770;--inside-highlight-0e:#239371;--inside-highlight-0f:#edf0f3;--inside-card-color:#fff;--inside-accent-color-005:rgba(42,43,51,.05);--inside-accent-color-01:rgba(42,43,51,.1);--inside-accent-color-02:rgba(42,43,51,.2);--inside-accent-color-04:rgba(42,43,51,.4);--inside-accent-color-08:rgba(42,43,51,.8)}</style><script src="/theme.9ecc9ab1.js"></script><link href="/styles.91e7dfca63c7c151daa6.css" rel="stylesheet"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><meta name="theme-color" content=""><script type="application/json" is="state">{&q;api/YXBp.json&q;:{&q;title&q;:&q;开发者文档(API)&q;,&q;date&q;:&q;2017-02-01T23:33:33.000Z&q;,&q;date_formatted&q;:{&q;ll&q;:&q;2017年2月1日&q;,&q;L&q;:&q;2017/02/01&q;,&q;MM-DD&q;:&q;02-01&q;},&q;updated&q;:&q;2017-02-01T23:33:33.000Z&q;,&q;content&q;:&q;&l;p&g;&l;strong&g;2022-10-27 Mercury233注：&l;/strong&g;&l;/p&g;\n&l;p&g;&l;strong&g;此文内容已过期，等待更新。&l;/strong&g;&l;/p&g;\n&l;hr&g;\n&l;p&g;开源地址： &l;a href=\&q;https://github.com/lllyasviel/YGOProUnity_V2\&q; target=\&q;_blank\&q;&g;https://github.com/lllyasviel/YGOProUnity_V2&l;/a&g;&l;/p&g;\n&l;p&g;第一步 运行游戏。&l;/p&g;\n&l;p&g;第二步 用记事本打开commamd.shell。&l;/p&g;\n&l;p&g;第二点五步 把用户的头像以“用户名.png”的格式写入“texture\\face\\用户名.png”,写多少个都可以。&l;/p&g;\n&l;p&g;第三步 输入以下五条指令中的任意【&l;strong&g;一条&l;/strong&g;】并保存文件。（&l;strong&g;单行，没有回车符，所有涉及到的文件没有ydk,lua,yrp等扩展名&l;/strong&g;）。&l;/p&g;\n&l;p&g;online miaowu 118.178.111.167 233 0x133c&l;/p&g;\n&l;p&g;online miaowu 118.178.111.167 233 0x133c password&l;/p&g;\n&l;p&g;edit [Miao]割草光道&l;/p&g;\n&l;p&g;puzzle Sample&l;/p&g;\n&l;p&g;replay 任意录像名字无扩展名&l;/p&g;\n&l;p&g;注意：&l;/p&g;\n&l;p&g;1.游戏过程中建议不要把游戏关闭，再次启动游戏可能耗时较久。&l;/p&g;\n&l;p&g;2.只要commamd.shell存在就会无条件执行指令，commamd.shell不存在则意味着玩家正在对战或者正在编辑一个没有保存的卡组。&l;/p&g;\n&l;p&g;3.可以通过控制窗口的句柄来实现最小化。&l;/p&g;\n&l;p&g;4.请在指令执行之前把头像写入完毕。对战中游戏不会扫描目录里的头像。&l;/p&g;\n&l;p&g;5.不必担心文件读写冲突导致游戏崩溃，游戏内部做了完好的文件读写锁。&l;/p&g;\n&l;p&g;6.每条指令执行完毕之后，shell文件会被清空。&l;/p&g;\n&l;p&g;7.切记commamd.shell的编码是UTF8，请在命令内部有中文的时候小心。&l;/p&g;\n&l;p&g;8.无论输入什么杂鱼东西都会被程序在读取之后立刻清空。利用这一点可以检测游戏是否在指令待命状态。你可以在commamd.shell内部输入“miaowu”,如果它被清空了，说明程序正在等待你的指令，如果没有发生什么事情，说明玩家正在操作（对战中，卡组没有保存的编辑中），这时程序不会理会你的指令。&l;/p&g;\n&l;p&g;9.利用8，你可以在获取游戏窗口句柄之后实现大厅界面最小化和游戏最小化之间的切换。（进入指令待命状态则游戏最小化，一旦指令待命取消，立刻游戏窗口前台激活。）&l;/p&g;\n&l;p&g;下面是程序读入指令的代码，c#语法。供参考。&l;/p&g;\n&l;figure class=\&q;highlight c#\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;27&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;28&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;29&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;30&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;31&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;32&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;33&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;34&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;35&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;36&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;37&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;38&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;39&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;40&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;41&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;42&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;43&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;44&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;45&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;46&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;47&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;48&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;49&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;50&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;51&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;52&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;53&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;54&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;all = File.ReadAllText(&l;span class=\&q;string\&q;&g;&a;quot;commamd.shell&a;quot;&l;/span&g;, Encoding.UTF8);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;built_in\&q;&g;char&l;/span&g;[] parmChars = all.ToCharArray();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;built_in\&q;&g;bool&l;/span&g; inQuote = &l;span class=\&q;literal\&q;&g;false&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;for&l;/span&g; (&l;span class=\&q;built_in\&q;&g;int&l;/span&g; index = &l;span class=\&q;number\&q;&g;0&l;/span&g;; index &a;lt; parmChars.Length; index++)&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;if&l;/span&g; (parmChars[index] == &l;span class=\&q;string\&q;&g;&a;#x27;&a;quot;&a;#x27;&l;/span&g;)&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tinQuote = !inQuote;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tparmChars[index] = &l;span class=\&q;string\&q;&g;&a;#x27;\\n&a;#x27;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;if&l;/span&g; (!inQuote &a;amp;&a;amp; parmChars[index] == &l;span class=\&q;string\&q;&g;&a;#x27; &a;#x27;&l;/span&g;)&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tparmChars[index] = &l;span class=\&q;string\&q;&g;&a;#x27;\\n&a;#x27;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;built_in\&q;&g;string&l;/span&g;[] mats = (&l;span class=\&q;keyword\&q;&g;new&l;/span&g; &l;span class=\&q;built_in\&q;&g;string&l;/span&g;(parmChars)).Split(&l;span class=\&q;keyword\&q;&g;new&l;/span&g; &l;span class=\&q;built_in\&q;&g;char&l;/span&g;[] &a;#123; &l;span class=\&q;string\&q;&g;&a;#x27;\\n&a;#x27;&l;/span&g; &a;#125;, StringSplitOptions.RemoveEmptyEntries);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;if&l;/span&g; (mats.Length &a;gt; &l;span class=\&q;number\&q;&g;0&l;/span&g;)&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;switch&l;/span&g; (mats[&l;span class=\&q;number\&q;&g;0&l;/span&g;])&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;keyword\&q;&g;case&l;/span&g; &l;span class=\&q;string\&q;&g;&a;quot;online&a;quot;&l;/span&g;:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;keyword\&q;&g;if&l;/span&g; (mats.Length == &l;span class=\&q;number\&q;&g;5&l;/span&g;)&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t\tUIHelper.iniFaces();&l;span class=\&q;comment\&q;&g;//加载用户头像&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t\tProgram.I().selectServer.KF_onlineGame(mats[&l;span class=\&q;number\&q;&g;1&l;/span&g;], mats[&l;span class=\&q;number\&q;&g;2&l;/span&g;], mats[&l;span class=\&q;number\&q;&g;3&l;/span&g;], mats[&l;span class=\&q;number\&q;&g;4&l;/span&g;]);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;keyword\&q;&g;if&l;/span&g; (mats.Length == &l;span class=\&q;number\&q;&g;6&l;/span&g;)&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t\tUIHelper.iniFaces();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t\tProgram.I().selectServer.KF_onlineGame(mats[&l;span class=\&q;number\&q;&g;1&l;/span&g;], mats[&l;span class=\&q;number\&q;&g;2&l;/span&g;], mats[&l;span class=\&q;number\&q;&g;3&l;/span&g;], mats[&l;span class=\&q;number\&q;&g;4&l;/span&g;], mats[&l;span class=\&q;number\&q;&g;5&l;/span&g;]);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;keyword\&q;&g;break&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;keyword\&q;&g;case&l;/span&g; &l;span class=\&q;string\&q;&g;&a;quot;edit&a;quot;&l;/span&g;:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;keyword\&q;&g;if&l;/span&g; (mats.Length == &l;span class=\&q;number\&q;&g;2&l;/span&g;)&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t\tProgram.I().selectDeck.KF_editDeck(mats[&l;span class=\&q;number\&q;&g;1&l;/span&g;]);&l;span class=\&q;comment\&q;&g;//编辑卡组&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;keyword\&q;&g;break&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;keyword\&q;&g;case&l;/span&g; &l;span class=\&q;string\&q;&g;&a;quot;replay&a;quot;&l;/span&g;:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;keyword\&q;&g;if&l;/span&g; (mats.Length == &l;span class=\&q;number\&q;&g;2&l;/span&g;)&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t\tUIHelper.iniFaces();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t\tProgram.I().selectReplay.KF_replay(mats[&l;span class=\&q;number\&q;&g;1&l;/span&g;]);&l;span class=\&q;comment\&q;&g;//编辑录像&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;keyword\&q;&g;break&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;keyword\&q;&g;case&l;/span&g; &l;span class=\&q;string\&q;&g;&a;quot;puzzle&a;quot;&l;/span&g;:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;keyword\&q;&g;if&l;/span&g; (mats.Length == &l;span class=\&q;number\&q;&g;2&l;/span&g;)&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t\tUIHelper.iniFaces();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t\tProgram.I().puzzleMode.KF_puzzle(mats[&l;span class=\&q;number\&q;&g;1&l;/span&g;]);&l;span class=\&q;comment\&q;&g;//运行残局&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;keyword\&q;&g;break&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;literal\&q;&g;default&l;/span&g;:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;keyword\&q;&g;break&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&q;,&q;link&q;:&q;api&q;,&q;plink&q;:&q;https://ygopro2.com/api/&q;,&q;copyright&q;:{&q;author&q;:&q;一秒一喵机会&q;,&q;license&q;:&q;&a;copy; YGOPro2 Laboratory&q;,&q;updated&q;:&q;2017年2月1日&q;}}}</script></head>
<body lang="zh-Hans"><!-- hexo injector body_begin start --><is-a class="φh" ng-version="12.1.0"><is-k class="φcu"><div class="φdg"><section class="φdh"><header class="φcv"><i class="φda"></i><!----><!----><img width="160" draggable="false" class="φcx φcw" src="/images/avatar.jpg" alt="YGOPro2" title="YGOPro2"><!----><a href="" class="φcz">YGOPro2</a><p class="φcy">YGOPro2 实验室</p></header><div class="φdl"><a routerlink="/archives" class="φdm" href="/archives"><span>15</span><span>归档</span></a><a class="φdm" href="/categories/%E5%85%AC%E5%91%8A"><span>2</span><span>分类</span></a><!----><a routerlink="/tags" class="φdm" href="/tags"><span>2</span><span>标签</span></a><!----></div><!----><nav class="φdi"><a class="φdj" href="/">首页</a><!----><!----><!----><a class="φdj" href="/download">下载</a><!----><!----><!----><a class="φdj" href="/feedback">意见或BUG反馈</a><!----><!----><!----><a class="φdj" href="/license">竞技声明</a><!----><!----><!----><a class="φdj φdk" href="/api">开发者文档(API)</a><!----><!----><!----><!----></nav><!----><!----></section><footer class="φdb φdc"><div class="φde"><!----><a target="_blank" rel="external nofollow noopener" class="φdf" title="mercury233" href="https://github.com/mercury233"><i class="iκ-github"></i></a><!----><!----><!----><a target="_blank" rel="external nofollow noopener" class="φdf" title="lllyasviel" href="https://github.com/lllyasviel"><i class="iκ-github"></i></a><!----><!----><!----></div><!----><p class="φe">© 2022 • <a href="https://ygopro2.com">YGOPro2</a></p><!----><p class="φe"><span class="φdd">由 <a href="https://hexo.io" target="_blank" rel="external nofollow noopener">Hexo</a> 强力驱动</span><!----><span class="φdd">主题 - <a href="https://github.com/ikeq/hexo-theme-inside" target="_blank" rel="external nofollow noopener">Inside</a></span><!----></p><!----><!----></footer></div></is-k><div class="φj"><div class="φi"><div class="φn"><main class="φm"><router-outlet></router-outlet><is-q class="φeo"><header class="φeq"><h1 class="φes">开发者文档(API)</h1><!----></header><article itemscope="" itemtype="http://schema.org/Article" class="φep" data-title="开发者文档(API)"><div itemprop="articleBody" issnippet="" iszoomable="" class="φe"><p><strong>2022-10-27 Mercury233注：</strong></p>
<p><strong>此文内容已过期，等待更新。</strong></p>
<hr>
<p>开源地址：&nbsp;<a href="https://github.com/lllyasviel/YGOProUnity_V2" target="_blank">https://github.com/lllyasviel/YGOProUnity_V2</a></p>
<p>第一步&nbsp;运行游戏。</p>
<p>第二步&nbsp;用记事本打开commamd.shell。</p>
<p>第二点五步&nbsp;把用户的头像以“用户名.png”的格式写入“texture\face\用户名.png”,写多少个都可以。</p>
<p>第三步&nbsp;输入以下五条指令中的任意【<strong>一条</strong>】并保存文件。（<strong>单行，没有回车符，所有涉及到的文件没有ydk,lua,yrp等扩展名</strong>）。</p>
<p>online miaowu 118.178.111.167 233 0x133c</p>
<p>online miaowu 118.178.111.167 233 0x133c password</p>
<p>edit [Miao]割草光道</p>
<p>puzzle Sample</p>
<p>replay 任意录像名字无扩展名</p>
<p>注意：</p>
<p>1.游戏过程中建议不要把游戏关闭，再次启动游戏可能耗时较久。</p>
<p>2.只要commamd.shell存在就会无条件执行指令，commamd.shell不存在则意味着玩家正在对战或者正在编辑一个没有保存的卡组。</p>
<p>3.可以通过控制窗口的句柄来实现最小化。</p>
<p>4.请在指令执行之前把头像写入完毕。对战中游戏不会扫描目录里的头像。</p>
<p>5.不必担心文件读写冲突导致游戏崩溃，游戏内部做了完好的文件读写锁。</p>
<p>6.每条指令执行完毕之后，shell文件会被清空。</p>
<p>7.切记commamd.shell的编码是UTF8，请在命令内部有中文的时候小心。</p>
<p>8.无论输入什么杂鱼东西都会被程序在读取之后立刻清空。利用这一点可以检测游戏是否在指令待命状态。你可以在commamd.shell内部输入“miaowu”,如果它被清空了，说明程序正在等待你的指令，如果没有发生什么事情，说明玩家正在操作（对战中，卡组没有保存的编辑中），这时程序不会理会你的指令。</p>
<p>9.利用8，你可以在获取游戏窗口句柄之后实现大厅界面最小化和游戏最小化之间的切换。（进入指令待命状态则游戏最小化，一旦指令待命取消，立刻游戏窗口前台激活。）</p>
<p>下面是程序读入指令的代码，c#语法。供参考。</p>
<figure class="highlight c#"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">all = File.ReadAllText(<span class="string">"commamd.shell"</span>, Encoding.UTF8);</span><br><span class="line"><span class="built_in">char</span>[] parmChars = all.ToCharArray();</span><br><span class="line"><span class="built_in">bool</span> inQuote = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> index = <span class="number">0</span>; index &lt; parmChars.Length; index++)</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">if</span> (parmChars[index] == <span class="string">'"'</span>)</span><br><span class="line">	{</span><br><span class="line">		inQuote = !inQuote;</span><br><span class="line">		parmChars[index] = <span class="string">'\n'</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span> (!inQuote &amp;&amp; parmChars[index] == <span class="string">' '</span>)</span><br><span class="line">		parmChars[index] = <span class="string">'\n'</span>;</span><br><span class="line">}</span><br><span class="line"><span class="built_in">string</span>[] mats = (<span class="keyword">new</span> <span class="built_in">string</span>(parmChars)).Split(<span class="keyword">new</span> <span class="built_in">char</span>[] { <span class="string">'\n'</span> }, StringSplitOptions.RemoveEmptyEntries);</span><br><span class="line"><span class="keyword">if</span> (mats.Length &gt; <span class="number">0</span>)</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">switch</span> (mats[<span class="number">0</span>])</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">case</span> <span class="string">"online"</span>:</span><br><span class="line">			<span class="keyword">if</span> (mats.Length == <span class="number">5</span>)</span><br><span class="line">			{</span><br><span class="line">				UIHelper.iniFaces();<span class="comment">//加载用户头像</span></span><br><span class="line">				Program.I().selectServer.KF_onlineGame(mats[<span class="number">1</span>], mats[<span class="number">2</span>], mats[<span class="number">3</span>], mats[<span class="number">4</span>]);</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">if</span> (mats.Length == <span class="number">6</span>)</span><br><span class="line">			{</span><br><span class="line">				UIHelper.iniFaces();</span><br><span class="line">				Program.I().selectServer.KF_onlineGame(mats[<span class="number">1</span>], mats[<span class="number">2</span>], mats[<span class="number">3</span>], mats[<span class="number">4</span>], mats[<span class="number">5</span>]);</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="string">"edit"</span>:</span><br><span class="line">			<span class="keyword">if</span> (mats.Length == <span class="number">2</span>)</span><br><span class="line">			{</span><br><span class="line">				Program.I().selectDeck.KF_editDeck(mats[<span class="number">1</span>]);<span class="comment">//编辑卡组</span></span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="string">"replay"</span>:</span><br><span class="line">			<span class="keyword">if</span> (mats.Length == <span class="number">2</span>)</span><br><span class="line">			{</span><br><span class="line">				UIHelper.iniFaces();</span><br><span class="line">				Program.I().selectReplay.KF_replay(mats[<span class="number">1</span>]);<span class="comment">//编辑录像</span></span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="string">"puzzle"</span>:</span><br><span class="line">			<span class="keyword">if</span> (mats.Length == <span class="number">2</span>)</span><br><span class="line">			{</span><br><span class="line">				UIHelper.iniFaces();</span><br><span class="line">				Program.I().puzzleMode.KF_puzzle(mats[<span class="number">1</span>]);<span class="comment">//运行残局</span></span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="literal">default</span>:</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
</div><is-e class="φu"><!----><ul class="φy"><li class="φw"><strong class="φx">本文作者<span>:</span></strong><p class="φv">一秒一喵机会</p></li><li class="φw"><strong class="φx">版权声明<span>:</span></strong><p class="φv">© YGOPro2 Laboratory</p></li><li class="φw"><strong class="φx">更新日期<span>:</span></strong><p class="φv">2017年2月1日</p></li><!----></ul><!----></is-e><!----><!----><!----></article><!----><!----><!----></is-q><!----></main><!----></div></div></div><is-f class="φz"><div class="φbi"><span class="φa iκ-up"></span><span class="φa iκ-down"></span><!----><!----><!----></div><div class="φbb φbc"><svg class="φbh"><defs><filter id="dp"><feGaussianBlur in="SourceGraphic" stdDeviation="2"></feGaussianBlur></filter></defs><circle filter="url(#dp)" fill="rgba(0,0,0,.3)" cx="50%" cy="52%" r="44%"></circle><circle cx="50%" cy="50%" r="44%" class="φbd"></circle><circle cx="50%" cy="50%" r="48%" class="φbg" stroke-dasharray="0% 314.15926%"></circle><!----><g class="φbe"><circle r=".2rem" cx="0" cy="-.8rem"></circle><circle r=".2rem"></circle><circle r=".2rem" cx="0" cy=".8rem"></circle></g><!----></svg></div></is-f><!----><!----></is-a><!-- hexo injector body_begin end --><!-- hexo injector body_end start --><script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?f7027095ec6eef38aac520fd99b1d4e0";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<script src="/runtime.1ed960b0635ea0669f87.js"></script><script src="/polyfills.b7bf56fc45f931a8b83e.js"></script><script src="/main.543c891b4aad158701f3.js"></script><!-- hexo injector body_end end -->

</body></html>